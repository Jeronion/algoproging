
–†–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –æ—á–µ–Ω—å –º–æ—â–Ω—ã–π –ø—Ä–∏—ë–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **–±—ã—Å—Ç—Ä–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –æ—Ç—Ä–µ–∑–∫–∞—Ö** –∏ **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã**. –û–Ω –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö, –≥–¥–µ –µ—Å—Ç—å –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–∏–¥–∞ ¬´–ø—Ä–∏–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–µ¬ª.

---

## –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤

–ò—Å–ø–æ–ª—å–∑—É–π —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏:

- –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ –¥–ª–∏–Ω—ã `N`
    
- –µ—Å—Ç—å **–º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π** –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π **–Ω–∞ –æ—Ç—Ä–µ–∑–∫–∞—Ö**
    
- –∏–ª–∏ –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å, **—Å–∫–æ–ª—å–∫–æ –æ—Ç—Ä–µ–∑–∫–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç —Ç–æ—á–∫—É**
    

–¢–∏–ø–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –∑–∞–¥–∞—á:

- ¬´–ù–∞ –æ—Ç—Ä–µ–∑–∫–µ `[l, r]` —É–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ `k`¬ª
    
- ¬´–°–∫–æ–ª—å–∫–æ –æ—Ç—Ä–µ–∑–∫–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç —Ç–æ—á–∫—É `x`?¬ª
    
- ¬´–¢–æ–ª—â–∏–Ω–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –≤ –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–µ¬ª
    

---

## –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

–î–æ–ø—É—Å—Ç–∏–º, –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ –¥–ª–∏–Ω—ã `N`, –∏ –æ–ø–µ—Ä–∞—Ü–∏—è:

> —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç `l` –¥–æ `r`

–ù–∞–∏–≤–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –∑–∞ `O(r - l + 1)`.  
–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–Ω–æ–≥–æ ‚Äî —Ä–µ—à–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–º.

---

## –ò–¥–µ—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞

–í–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è **—Å–∞–º–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π**, –º—ã —Ö—Ä–∞–Ω–∏–º **—Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏**.

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ü—É—Å—Ç—å –µ—Å—Ç—å –º–∞—Å—Å–∏–≤ `A`.  
–¢–æ–≥–¥–∞ —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤ `D`:

```
D[1] = A[1]
D[i] = A[i] - A[i - 1]
```

–û–±—Ä–∞—Ç–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:

```
A[i] = D[1] + D[2] + ... + D[i]
```

–¢–æ –µ—Å—Ç—å:

> **–æ–±—ã—á–Ω—ã–π –º–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è —Å—É–º–º–∞ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–≥–æ**

---

## –ú–∞–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ:

> —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Å–µ `A[l..r]` –Ω–∞ `k`

–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

```
D[l] += k
D[r + 1] -= k
```

–ò –≤—Å—ë.

‚ùó –ú—ã –Ω–µ —Ç—Ä–æ–≥–∞–µ–º –≤–µ—Å—å –¥–∏–∞–ø–∞–∑–æ–Ω ‚Äî —Ç–æ–ª—å–∫–æ **–¥–≤–µ —è—á–µ–π–∫–∏**.

---

## –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–π —Å—É–º–º–æ–π:

- –Ω–∞—á–∏–Ω–∞—è —Å `l` –∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ `k`
    
- –ø–æ—Å–ª–µ `r` —É–≤–µ–ª–∏—á–µ–Ω–∏–µ ¬´–æ—Ç–º–µ–Ω–∏—Ç—Å—è¬ª
    

–≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –≤–∫–ª—é—á–∞—Ç–µ–ª—å/–≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å.

---

## –ü—Ä–∏–º–µ—Ä

### –£—Å–ª–æ–≤–∏–µ

–ú–∞—Å—Å–∏–≤ –¥–ª–∏–Ω—ã `10`, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—Å–µ –Ω—É–ª–∏.

–û–ø–µ—Ä–∞—Ü–∏–∏:

1. `[2, 5] += 3`
    
2. `[4, 7] += 2`
    

### –†–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤

```
index: 1 2 3 4 5 6 7 8
D:     0 3 0 2 0 -3 0 -2
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è —Å—É–º–º–∞:

```
A: 0 3 3 5 5 2 2 0
```

---

## –ó–∞–¥–∞—á–∞ ¬´–ù–æ—Å–∫–∏¬ª ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

–ï—Å—Ç—å `N` –æ—Ç—Ä–µ–∑–∫–æ–≤ `[l, r]` ‚Äî –Ω–æ—Å–∫–∏.

–ù—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å:

> —Å–∫–æ–ª—å–∫–æ –Ω–æ—Å–∫–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–∞–∂–¥—É—é —Ç–æ—á–∫—É

### –†–µ—à–µ–Ω–∏–µ

```python
L, N, M = map(int, input().split())

diff = [0] * (L + 2)

for _ in range(N):
    l, r = map(int, input().split())
    diff[l] += 1
    diff[r + 1] -= 1

cover = [0] * (L + 1)
cur = 0
for i in range(1, L + 1):
    cur += diff[i]
    cover[i] = cur

for _ in range(M):
    x = int(input())
    print(cover[x])
```

---

## –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

|–û–ø–µ—Ä–∞—Ü–∏—è|–°–ª–æ–∂–Ω–æ—Å—Ç—å|
|---|---|
|–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Ä–µ–∑–∫–æ–≤|`O(N)`|
|–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞|`O(L)`|
|–û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã|`O(M)`|

–û—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ üí™

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå –∑–∞–±—ã—Ç—å `r + 1`  
‚ùå –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞  
‚ùå –ø–µ—Ä–µ–ø—É—Ç–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é (0 / 1)

---

## –ì–¥–µ –µ—â—ë –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

- –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–∞ —Å–æ–±—ã—Ç–∏—è—Ö
    
- –ø–æ–¥—Å—á—ë—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
    
- –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    
- –∑–∞–¥–∞—á–∏ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
    

---

## –ö—Ä–∞—Ç–∫–æ

- —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤ = –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
    
- –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ `O(1)`
    
- –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é —Å—É–º–º—É
    
- –º–∞—Å—Ç-—Ö—ç–≤ –¥–ª—è –æ–ª–∏–º–ø–∏–∞–¥ –∏ –∫–æ–Ω—Ç–µ—Å—Ç–æ–≤
    

---

> üí° –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –∑–∞–¥–∞—á—É —Å –æ—Ç—Ä–µ–∑–∫–∞–º–∏ ‚Äî **–ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø–æ–¥—É–º–∞–π –ø—Ä–æ —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–π –º–∞—Å—Å–∏–≤**