
**Техника скользящего окна (Sliding Window Technique)** — это метод решения задач, которые связаны с подмассивами, подстроками или «окнами».

- Вместо многократного перебора одних и тех же элементов, скользящее окно поддерживает диапазон (или «окно»), который шаг за шагом перемещается по данным, обновляя результат инкрементально.
- Основная идея — использовать результаты предыдущего окна для вычислений следующего.
- Часто применяется для задач:
    
    - поиск подмассивов с заданной суммой;
    - поиск самой длинной подстроки с уникальными символами;
    - задачи с фиксированным размером окна, где важна высокая эффективность.

## Содержание

- Пример задачи — максимальная сумма подмассива из K элементов
- Наивный подход — `O(n × k)` по времени и `O(1)` по памяти
- Использование техники скользящего окна — `O(n)` по времени и `O(1)` по памяти
- Как использовать технику скользящего окна?
- Как распознать задачи на скользящее окно?
- Дополнительные примеры задач

---

## Наивный подход — `O(n × k)` по времени и `O(1)` по памяти

```python
def maxSum(arr, n, k):
    # Инициализация результата
    max_sum = float("-inf")

    # Рассматриваем все подмассивы длины k
    for i in range(n - k + 1):
        current_sum = 0
        for j in range(k):
            current_sum += arr[i + j]

        # Обновляем результат при необходимости
        max_sum = max(current_sum, max_sum)

    return max_sum
```

**Вывод:**

```
6
```

---

## Использование техники скользящего окна — `O(n)` по времени и `O(1)` по памяти

Алгоритм:

1. Вычисляем сумму первых `k` элементов массива и сохраняем её в переменной `window_sum`.
2. Устанавливаем `max_sum` равным `window_sum`.
3. Линейно перемещаем окно по массиву:
	
    - вычитаем первый элемент предыдущего окна;
    - добавляем последний элемент нового окна;
    - обновляем максимальную сумму.

### Визуальное объяснение

Рассмотрим массив:

```
arr = [5, 2, -1, 0, 3], k = 3
```

**Шаг 1:**  
Начальное окно `[5, 2, -1]`  
Сумма = `6` → `max_sum = 6`

**Шаг 2:**  
Сдвигаем окно: удаляем `5`, добавляем `0`  
Новое окно `[2, -1, 0]`  
Сумма = `1` → `max_sum` не меняется

**Шаг 3:**  
Сдвигаем окно: удаляем `2`, добавляем `3`  
Новое окно `[-1, 0, 3]`  
Сумма = `2` → `max_sum` не меняется

Итог: **максимальная сумма = 6**

### Реализация

```python
def maxSum(arr, k):
    n = len(arr)

    # Размер массива должен быть больше k
    if n <= k:
        print("Invalid")
        return -1

    # Сумма первого окна
    window_sum = sum(arr[:k])
    max_sum = window_sum

    # Сдвигаем окно
    for i in range(n - k):
        window_sum = window_sum - arr[i] + arr[i + k]
        max_sum = max(window_sum, max_sum)

    return max_sum
```

---

## Как использовать технику скользящего окна?

Существует **два типа скользящего окна**.

### 1. Скользящее окно фиксированного размера

Общий алгоритм:

1. Определить размер окна `K`.
2. Вычислить результат для первого окна (первые `K` элементов).
3. Сдвигать окно на 1 позицию и обновлять результат для каждого нового окна.

---

### 2. Скользящее окно переменного размера

Общий алгоритм:

1. Увеличиваем правый указатель `right`, пока условие задачи выполняется.
2. Если условие нарушается — уменьшаем размер окна, двигая левый указатель `left`.
3. Когда условие снова выполняется — продолжаем двигать правый указатель.
4. Повторяем шаги, пока не достигнем конца массива.

---

## Как распознать задачи на скользящее окно?

Обычно такие задачи имеют следующие признаки:

- Нужно найти **максимальный / минимальный подмассив** или **подстроку**, удовлетворяющую условию.
- В задаче может быть задан размер подмассива или подстроки $k$.
- Наивное решение работает за $O(n²)$ с вложенными циклами.
- Оптимальное решение с использованием скользящего окна — $O(n)$.
- Требуемая сложность: $O(n)$ или $O(n \log n)$.
- Ограничения: $n ≤ 10^6$.

---

## Заключение

Техника скользящего окна позволяет эффективно решать задачи с подмассивами и подстроками, сокращая время работы алгоритма с $O(n^2)$ до $O(n)$. Она особенно полезна, когда требуется обрабатывать диапазоны данных последовательно и быстро. Умение распознавать такие задачи и правильно применять скользящее окно является важным навыком при решении алгоритмических задач и на технических собеседованиях.